@model IEnumerable<PesquisaComAjax.Mvc.ViewModels.ProdutoViewModel>

@{
    ViewBag.Title = "Index";
}

<p>Request: @DateTime.Now</p>
<p>
    @Html.ActionLink("Cadastrar novo produto", "Create")
</p>

<p>
    Pesquisar por nome

    @using (Ajax.BeginForm("Pesquisar", "Produtos", new AjaxOptions
    {
        HttpMethod = "Get",
        InsertionMode = InsertionMode.Replace,
        UpdateTargetId = "DivListaProduto" }))
    {

        @Html.TextBox("Pesquisar", string.Empty, htmlAttributes: new { @class= "form-control", autofocus = "autofocus", placeholder="Search"}) 
        <br />
        <input type="submit" value="Pesquisar" class="btn btn-default"/>
    }
</p>

@Html.Partial("_Produtos", Model)
